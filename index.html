<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Frequent Flyer Registration</title>
	<style>
		body {
			font-family: Arial, sans-serif;
		}

		fieldset {
			margin-bottom: 15px;
			padding: 10px;
		}

		.error {
			color: red;
			display: none;
		}
	</style>
</head>

<body>
	<h2>Frequent Flyer Registration</h2>
	<form id="flyerForm" onsubmit="return validateForm()">
		<fieldset>
			<legend>Personal Information</legend>

			<label>Salutation:</label>
			<input type="radio" name="salutation" value="Mr." required> Mr.
			<input type="radio" name="salutation" value="Ms."> Ms.
			<input type="radio" name="salutation" value="Dr."> Dr.
			<input type="radio" name="salutation" value="Rev."> Rev.
			<input type="radio" name="salutation" value="N/A"> N/A
			<span class="error" id="salutationError">Select a salutation</span>
			<br><br>
			<label for="fname">First Name:</label>
			<input type="text" id="fname" name="fname" required>
			<span class="error" id="fnameError">First name is required</span><br>
			<br>
			<label for="lname">Last Name:</label>
			<input type="text" id="lname" name="lname" required>
			<span class="error" id="lnameError">Last name is required</span><br>
			<br>
			<label for="dob">Date of Birth:</label>
			<input type="date" id="dob" name="dob" required>
			<span class="error" id="dobError">Date of birth is required</span><br>


		</fieldset>

		<fieldset>
			<legend>Contact Information</legend>
			<label for="email">Email:</label>
			<input type="email" id="email" name="email" required>
			<span class="error" id="emailError">Invalid email</span><br><br>

			<label for="phone">Phone:</label>
			<input type="tel" id="phone" name="phone" pattern="^\d{3}[-.\s]?\d{3}[-.\s]?\d{4}$" required>
			<span class="error" id="phoneError">Invalid phone number</span><br>
		</fieldset>

		<fieldset>
			<legend>Address</legend>
			<label for="country">Country:</label>
			<select id="country" name="country" required>
				<option value="" disabled selected>Select Country</option>
				<option value="US">United States</option>
				<option value="CA">Canada</option>
			</select>
			<br><br>
			<label for="state">State/Province:</label>
			<select id="state" name="state" required>
				<option value="" disabled selected>Select a State/Province</option>
			</select>
			<span class="error" id="stateError">State/Province is required</span><br>
			<br>
			<label for="postal">Zip/Postal Code:</label>
			<input type="text" id="postal" name="postal" required>
			<span class="error" id="postalError">Invalid format</span>
		</fieldset>
		<fieldset>
			<legend>Additional Preferences</legend>

			<label><input type="checkbox" name="updates" value="email"> Click for email updates about deals and
				promotions</label><br>
			<label><input type="checkbox" name="accommodations" value="disabled"> I am disabled and need someone to call about
				accommodations</label><br>
			<label><input type="checkbox" name="pet" value="pet"> I have a pet that I fly with</label>
		</fieldset>
		<fieldset>
			<legend>Account Security</legend>
			<label for="password">Password:</label>
			<input type="password" id="password" name="password" required>
			<span class="error" id="passwordError">Password is required</span><br>
			<br>
			<label for="confirmPassword">Confirm Password:</label>
			<input type="password" id="confirmPassword" name="confirmPassword" required>
			<span class="error" id="confirmPasswordError">Passwords must match</span>
		</fieldset>

		<button type="reset">Reset</button>
		<button type="submit">Register</button>
	</form>

	<script>
		document.addEventListener("DOMContentLoaded", function () {
			// Select dropdown elements
			const countrySelect = document.getElementById("country");
			const stateSelect = document.getElementById("state");


			// reset all form fields
			function resetForm() {
				const form = document.getElementById("registrationForm"); // Replace with your form's ID
				form.reset(); // Reset all form fields

				// Hide all error messages
				document.querySelectorAll('.error').forEach(error => {
					error.style.display = 'none';
				});
			}


			// List of U.S. states
			const statesUS = [
				{ code: "AL", name: "Alabama" }, { code: "AK", name: "Alaska" }, { code: "AZ", name: "Arizona" },
				{ code: "AR", name: "Arkansas" }, { code: "CA", name: "California" }, { code: "CO", name: "Colorado" },
				{ code: "CT", name: "Connecticut" }, { code: "DE", name: "Delaware" }, { code: "FL", name: "Florida" },
				{ code: "GA", name: "Georgia" }, { code: "HI", name: "Hawaii" }, { code: "ID", name: "Idaho" },
				{ code: "IL", name: "Illinois" }, { code: "IN", name: "Indiana" }, { code: "IA", name: "Iowa" },
				{ code: "KS", name: "Kansas" }, { code: "KY", name: "Kentucky" }, { code: "LA", name: "Louisiana" },
				{ code: "ME", name: "Maine" }, { code: "MD", name: "Maryland" }, { code: "MA", name: "Massachusetts" },
				{ code: "MI", name: "Michigan" }, { code: "MN", name: "Minnesota" }, { code: "MS", name: "Mississippi" },
				{ code: "MO", name: "Missouri" }, { code: "MT", name: "Montana" }, { code: "NE", name: "Nebraska" },
				{ code: "NV", name: "Nevada" }, { code: "NH", name: "New Hampshire" }, { code: "NJ", name: "New Jersey" },
				{ code: "NM", name: "New Mexico" }, { code: "NY", name: "New York" }, { code: "NC", name: "North Carolina" },
				{ code: "ND", name: "North Dakota" }, { code: "OH", name: "Ohio" }, { code: "OK", name: "Oklahoma" },
				{ code: "OR", name: "Oregon" }, { code: "PA", name: "Pennsylvania" }, { code: "RI", name: "Rhode Island" },
				{ code: "SC", name: "South Carolina" }, { code: "SD", name: "South Dakota" }, { code: "TN", name: "Tennessee" },
				{ code: "TX", name: "Texas" }, { code: "UT", name: "Utah" }, { code: "VT", name: "Vermont" },
				{ code: "VA", name: "Virginia" }, { code: "WA", name: "Washington" }, { code: "WV", name: "West Virginia" },
				{ code: "WI", name: "Wisconsin" }, { code: "WY", name: "Wyoming" }
			];

			// List of Canadian provinces
			const provincesCA = [
				{ code: "AB", name: "Alberta" }, { code: "BC", name: "British Columbia" }, { code: "MB", name: "Manitoba" },
				{ code: "NB", name: "New Brunswick" }, { code: "NL", name: "Newfoundland and Labrador" },
				{ code: "NS", name: "Nova Scotia" }, { code: "NT", name: "Northwest Territories" },
				{ code: "NU", name: "Nunavut" }, { code: "ON", name: "Ontario" },
				{ code: "PE", name: "Prince Edward Island" }, { code: "QC", name: "Quebec" },
				{ code: "SK", name: "Saskatchewan" }, { code: "YT", name: "Yukon" }
			];

			// Function to update the state/province dropdown based on selected country
			function updateStates() {
				const selectedCountry = countrySelect.value;
				stateSelect.innerHTML = '<option value="" disabled selected>Select a State/Province</option>'; // Reset options

				let options = [];
				if (selectedCountry === "US") {
					options = statesUS;
				} else if (selectedCountry === "CA") {
					options = provincesCA;
				}

				options.forEach(state => {
					const option = document.createElement("option");
					option.value = state.code;
					option.textContent = state.name;
					stateSelect.appendChild(option);
				});
			}

			// Event listener for country selection change
			countrySelect.addEventListener("change", updateStates);
		});

		/**
		 * Function to validate form inputs before submission.
		 * Returns 'true' if all fields are valid, otherwise 'false'.
		 */
		function validateForm() {
			let valid = true;

			// Hide all previous error messages
			document.querySelectorAll('.error').forEach(e => e.style.display = 'none');

			// Validate First Name
			let fname = document.getElementById('fname').value;
			if (!fname) {
				document.getElementById('fnameError').style.display = 'inline';
				valid = false;
			}

			// Validate Last Name
			let lname = document.getElementById('lname').value;
			if (!lname) {
				document.getElementById('lnameError').style.display = 'inline';
				valid = false;
			}

			// Validate Email using regex
			let email = document.getElementById('email').value;
			if (!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email)) {
				document.getElementById('emailError').style.display = 'inline';
				valid = false;
			}

			// Validate Phone Number (US format with optional separators)
			let phone = document.getElementById('phone').value;
			if (!/^\d{3}[-.\s]?\d{3}[-.\s]?\d{4}$/.test(phone)) {
				document.getElementById('phoneError').style.display = 'inline';
				valid = false;
			}

			// Validate Password Match
			let password = document.getElementById('password').value;
			let confirmPassword = document.getElementById('confirmPassword').value;
			if (password !== confirmPassword) {
				document.getElementById('confirmPasswordError').style.display = 'inline';
				valid = false;
			}

			return valid;
		}
	</script>


</body>

</html>
