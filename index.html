<!DOCTYPE html>
<html lang="en">

<!-- Salome Shunamon -->

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">


	<title>Frequent Flyer Registration</title>


	<link
		href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Open+Sans:wght@400;600;700&display=swap"
		rel="stylesheet">


	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

	<style>
		input[type="radio"]:focus,
		input[type="checkbox"]:focus,
		button:focus,
		input:focus,
		select:focus {
			border: 2px solid #2c6dbc;
			outline: none;
			box-shadow: 0 0 5px rgba(44, 109, 188, 0.5);
		}


		input[type="radio"],
		input[type="checkbox"] {
			width: auto;
			margin-right: 5px;
		}

		body {
			font-family: 'Roboto', 'Open Sans', sans-serif;
			background-color: #f5faff;
			color: #1d3557;
			margin: 0;
			padding: 20px;
		}

		h1,
		h2 {
			display: inline;
			text-align: center;

		}

		section {
			padding-top: 20px;
		}


		form {

			max-width: 600px;
			margin: auto;
			background: white;
			padding: 20px;
			border-radius: 8px;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
		}


		fieldset {
			border: 1px solid #4a90e2;
			border-radius: 8px;
			padding: 15px;
			margin-bottom: 15px;
		}

		legend {
			font-weight: 700;
			color: #2c6dbc;
		}


		label {
			font-weight: 600;
			display: block;
			margin-bottom: 5px;
		}

		.bold {
			font-weight: 600;
			display: block;
			margin-bottom: 5px;
		}


		input,
		select {
			width: 95%;
			padding: 10px;
			margin-bottom: 10px;
			border: 1px solid #b0c4de;
			border-radius: 4px;
			font-size: 1rem;
		}


		button:hover {
			background-color: #005fa3;
		}

		button {
			background-color: #0077cc;
			color: white;
			border: none;
			padding: 10px 15px;
			font-size: 1rem;
			font-weight: 600;
			border-radius: 5px;
			cursor: pointer;
			display: inline-block;
			margin-top: 10px;
		}

		button:hover {
			background-color: #357ABD;
		}


		.error {
			color: red;
			font-size: 0.9rem;
			display: none;
		}

		.logo {
			width: 50px;
			padding-left: 10px;
		}

		.logo-div {
			text-align: center;
		}


		.sr-only {
			position: absolute;
			width: 1px;
			height: 1px;
			padding: 0;
			margin: -1px;
			overflow: hidden;
			clip: rect(0, 0, 0, 0);
			border: 0;
		}

		#controls {
			width: 95%;
			text-align: left;
			margin-top: 0;
		}

		#controls button {
			font-family: Arial, Helvetica, sans-serif;
			font-size: small;
			background-color: #2564ac;
			border: #357ABD 1px solid;
			border-radius: 5px;
			padding: 10px;
			margin-top: 0;

		}



		#controls button:focus {
			border: 4px blue solid;
		}


		@media (max-width: 768px) {
			form {
				width: 90%;
			}

			input,
			select {
				font-size: 0.9rem;
				width: 96%;
			}

			button {
				width: 100%;
				text-align: center;
				margin-bottom: 20px;
			}
		}
	</style>
</head>

<body>

	<header role="banner">
		<section id="controls">
			<div id="controls">
				<button class="control" onclick="changeFont()">Read In Arial Font</button>
				<span class="sr-only">
					[Button disabled without javascript.]
				</span>
			</div>
		</section>

		<a href="#flyerForm" class="sr-only sr-only-focusable">Skip to registration form</a>

		<div class="logo-div">
			<img class="logo" src="plane.png" alt="airplane logo">
			<h1>Frequent Flyer Registration</h1>
		</div>
	</header>
	<main role="main">
		<section id="form">
			<div id="form">

				<form id="flyerForm" onsubmit="return validateForm()">

					<!-- Personal Information Section -->
					<fieldset>
						<legend>Personal Information</legend>

						<div class="infs sals">
							<span class="bold">Salutation:</span>
							<span class="sr-only">Required Field</span>
							<label for="Mr"><input type="radio" name="salutation" id="Mr" value="Mr."> Mr.</label>
							<label for="Ms"><input type="radio" name="salutation" id="Ms" value="Ms."> Ms.</label>
							<label for="Dr"><input type="radio" name="salutation" id="Dr" value="Dr."> Dr.</label>
							<label for="Rev"><input type="radio" name="salutation" id="Rev" value="Rev."> Rev.</label>
							<label for="None"><input type="radio" name="salutation" id="None" value="N/A" required> N/A</label>
							<span class="error" id="salutationError">Select a salutation</span>
						</div>

						<div class="infs">
							<label for="fname">First Name:<span class="sr-only">Required Field</span></label>
							<input type="text" id="fname" name="fname" aria-describedby="fnameError" autocomplete="given-name"
								required>
							<span class="error" id="fnameError" aria-live="assertive">First name is required</span><br>
						</div>
						<div class="infs">
							<label for="lname">Last Name:<span class="sr-only">Required Field</span></label>
							<input type="text" id="lname" name="lname" aria-describedby="lnameError" autocomplete="family-name"
								required>
							<span class="error" id="lnameError" aria-live="assertive">Last name is required</span><br>
						</div>
						<div class="infs">
							<label for="dob">Date of Birth:<span class="sr-only">Required Field</span></label>
							<input type="date" id="dob" name="dob" required>
							<span class="error" id="dobError" aria-live="assertive">Date of birth is required</span><br>
						</div>
					</fieldset>

					<!-- Contact Information Section -->

					<fieldset>

						<legend>Contact Information</legend>

						<div class="infs">

							<label for="email">Email:<span class="sr-only">Required Field</span></label>
							<input type="email" id="email" name="email" aria-describedby="emailError" autocomplete="email" required>
							<span class="error" id="emailError" aria-live="assertive">Email is required</span>
						</div>

						<div class="infs">

							<label for="phone">Phone (e.g. 123-123-1234):<span class="sr-only">Required Field</span></label>
							<input type="tel" id="phone" autocomplete="tel" name="phone" aria-describedby="phoneError"
								pattern="^\d{3}[-.\s]?\d{3}[-.\s]?\d{4}$" required>
							<span class="error" id="phoneError" aria-live="assertive">Phone number is required</span>
						</div>

					</fieldset>

					<!-- Credit Card Information Section -->

					<fieldset>

						<legend>Credit Card Information</legend>

						<div class="infs">
							<label for="cardName">Name on Card:<span class="sr-only">Required Field</span></label>
							<input type="text" id="cardName" aria-describedby="cardNameError" name="cardName"
								pattern="^[A-Za-z\s\-']{2,50}$" required>
							<span class="error" id="cardNameError" aria-live="assertive">Enter a valid name</span>
						</div>

						<div class="infs">
							<label for="card">Credit Card Number (e.g. 1234 1234 1234 1234):<span class="sr-only">Required
									Field</span></label>
							<input type="text" id="card" autocomplete="cc-number" name="card" aria-describedby="cardError"
								pattern="^\d{4}[-\s]?\d{4}[-\s]?\d{4}[-\s]?\d{4}$" required>
							<span class="error" id="cardError" aria-live="assertive">Enter a valid credit card number</span>
						</div>


						<div class="infs">
							<label for="expDate">Expiration Date (MM/YY):<span class="sr-only">Required Field</span></label>
							<input type="text" id="expDate" aria-describedby="expDateError" name="expDate"
								pattern="^(0[1-9]|1[0-2])\/\d{2}$" required>
							<span class="error" id="expDateError" aria-live="assertive">Enter a valid expiration date (MM/YY)</span>
						</div>

						<div class="infs">
							<label for="cvv">CVV Code (3 or 4 digits):<span class="sr-only">Required Field</span></label>
							<input type="text" id="cvv" name="cvv" aria-describedby="cvvError" pattern="^\d{3,4}$" required>
							<span class="error" id="cvvError" aria-live="assertive">Enter a valid CVV (3 or 4 digits)</span>
						</div>

					</fieldset>

					<!-- Address Section -->

					<fieldset>

						<legend>Address</legend>

						<div class="infs">
							<label for="address">Street Address:<span class="sr-only">Required Field</span></label>
							<input type="text" id="address" name="address" required>
							<span class="error" id="addressError" aria-live="assertive">Address is required</span><br>
						</div>

						<div class="infs">

							<label for="country">Country:<span class="sr-only">Required Field</span></label>
							<select id="country" name="country" required>
								<option value="" disabled selected>Select Country</option>
								<option value="US">United States</option>
								<option value="CA">Canada</option>

							</select>
							<span class="error" id="countryError" aria-live="assertive">Country is required</span>
						</div>

						<div class="infs">
							<label for="state">State/Province:<span class="sr-only">Required Field</span></label>
							<select id="state" name="state" required>
								<option value="" disabled selected>Select a State/Province</option>
							</select>
							<span class="error" id="stateError" aria-live="assertive">State/Province is required</span><br>


						</div>

						<div class="infs">

							<label for="postal">Zip/Postal Code:<span class="sr-only">Required Field</span></label>
							<input type="text" autocomplete="postal-code" id="postal" name="postal" aria-describedby="postalError"
								required>
							<span class="error" id="postalError" aria-live="assertive">Invalid format</span>

						</div>

					</fieldset>

					<!-- Additional Preferences Section -->

					<fieldset>

						<legend>Additional Preferences <span class="sr-only">Optional Fields</span></legend>

						<div class="infs">
							<label><input type="checkbox" name="updates" value="email"> Click for email updates about deals and
								promotions</label>
						</div>

						<div class="infs">
							<label><input type="checkbox" name="accommodations" value="disabled"> I am disabled and need someone to
								call
								about
								accommodations</label>
						</div>

						<div class="infs">
							<label><input type="checkbox" name="pet" value="pet"> I have a pet that I fly with</label>

						</div>
					</fieldset>

					<!-- Account Security Section -->

					<fieldset>

						<legend>Account Security</legend>

						<div class="infs">
							<label for="password">Password:<span class="sr-only">Required Field</span></label>
							<input type="password" id="password" name="password" aria-describedby="passwordError" required>
							<span class="error" id="passwordError" aria-live="assertive">Password is required</span><br>
						</div>

						<div class="infs">
							<label for="confirmPassword">Confirm Password:<span class="sr-only">Required Field</span></label>
							<input type="password" id="confirmPassword" name="confirmPassword" aria-describedby="confirmPasswordError"
								required>
							<span class="error" id="confirmPasswordError" aria-live="assertive">Passwords must match</span>
						</div>
					</fieldset>

					<!-- Reset & Registration Buttons -->
					<button type="button" id="resetForm" aria-label="Reset the form" onclick="resetForm()">Reset</button>
					<button type="submit" aria-label="Submit the registration form" id="submitForm"
						onclick="submitForm()">Register</button>
				</form>



			</div>
		</section>
	</main>
	<script>
		// dropdown elements
		const countrySelect = document.getElementById("country");
		const stateSelect = document.getElementById("state");
		const form = document.getElementById("flyerForm");

		// U.S. states
		const statesUS = [
			{ code: "AL", name: "Alabama" }, { code: "AK", name: "Alaska" }, { code: "AZ", name: "Arizona" },
			{ code: "AR", name: "Arkansas" }, { code: "CA", name: "California" }, { code: "CO", name: "Colorado" },
			{ code: "CT", name: "Connecticut" }, { code: "DE", name: "Delaware" }, { code: "FL", name: "Florida" },
			{ code: "GA", name: "Georgia" }, { code: "HI", name: "Hawaii" }, { code: "ID", name: "Idaho" },
			{ code: "IL", name: "Illinois" }, { code: "IN", name: "Indiana" }, { code: "IA", name: "Iowa" },
			{ code: "KS", name: "Kansas" }, { code: "KY", name: "Kentucky" }, { code: "LA", name: "Louisiana" },
			{ code: "ME", name: "Maine" }, { code: "MD", name: "Maryland" }, { code: "MA", name: "Massachusetts" },
			{ code: "MI", name: "Michigan" }, { code: "MN", name: "Minnesota" }, { code: "MS", name: "Mississippi" },
			{ code: "MO", name: "Missouri" }, { code: "MT", name: "Montana" }, { code: "NE", name: "Nebraska" },
			{ code: "NV", name: "Nevada" }, { code: "NH", name: "New Hampshire" }, { code: "NJ", name: "New Jersey" },
			{ code: "NM", name: "New Mexico" }, { code: "NY", name: "New York" }, { code: "NC", name: "North Carolina" },
			{ code: "ND", name: "North Dakota" }, { code: "OH", name: "Ohio" }, { code: "OK", name: "Oklahoma" },
			{ code: "OR", name: "Oregon" }, { code: "PA", name: "Pennsylvania" }, { code: "RI", name: "Rhode Island" },
			{ code: "SC", name: "South Carolina" }, { code: "SD", name: "South Dakota" }, { code: "TN", name: "Tennessee" },
			{ code: "TX", name: "Texas" }, { code: "UT", name: "Utah" }, { code: "VT", name: "Vermont" },
			{ code: "VA", name: "Virginia" }, { code: "WA", name: "Washington" }, { code: "WV", name: "West Virginia" },
			{ code: "WI", name: "Wisconsin" }, { code: "WY", name: "Wyoming" }
		];

		// Canadian provinces
		const provincesCA = [
			{ code: "AB", name: "Alberta" }, { code: "BC", name: "British Columbia" },
			{ code: "MB", name: "Manitoba" }, { code: "NB", name: "New Brunswick" },
			{ code: "NL", name: "Newfoundland and Labrador" }, { code: "NS", name: "Nova Scotia" },
			{ code: "ON", name: "Ontario" }, { code: "PE", name: "Prince Edward Island" },
			{ code: "QC", name: "Quebec" }, { code: "SK", name: "Saskatchewan" },
			{ code: "NT", name: "Northwest Territories" }, { code: "NU", name: "Nunavut" },
			{ code: "YT", name: "Yukon" }
		];

		// tate and province dropdown
		function populateStates(country) {
			stateSelect.innerHTML = '<option value="" disabled selected>Select a State or Province</option>';
			let list = country === "US" ? statesUS : country === "CA" ? provincesCA : [];
			list.forEach(state => {
				let option = document.createElement("option");
				option.value = state.code;
				option.textContent = state.name;
				stateSelect.appendChild(option);
			});
		}

		// country selection
		countrySelect.addEventListener("change", function () {
			populateStates(this.value);
		});

		// reset the form
		function resetForm() {
			form.reset();
			populateStates(countrySelect.value); // Reset state/province dropdown
			hideAllErrors(); // Hide all error messages
		}

		// hide error messages
		function hideAllErrors() {
			const errorElements = document.querySelectorAll(".error");
			errorElements.forEach(error => error.style.display = "none");
		}

		// validate the form
		function submitForm(event) {
			event.preventDefault();
			hideAllErrors();

			let isValid = true;

			// validate salutation
			const salutation = document.querySelector('input[name="salutation"]:checked');
			if (!salutation) {
				isValid = false;
				document.getElementById("salutationError").style.display = "inline";
			}

			// validate first name
			const firstName = document.getElementById("fname").value.trim();
			if (!firstName) {
				isValid = false;
				document.getElementById("fnameError").style.display = "inline";
			}

			// validate last name
			const lastName = document.getElementById("lname").value.trim();
			if (!lastName) {
				isValid = false;
				document.getElementById("lnameError").style.display = "inline";
			}

			// validate date of birth
			const dob = document.getElementById("dob").value;
			if (!dob) {
				isValid = false;
				document.getElementById("dobError").style.display = "inline";
			}

			// validate email
			const email = document.getElementById("email").value.trim();
			if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
				isValid = false;
				document.getElementById("emailError").style.display = "inline";
			}

			// validate phone
			const phone = document.getElementById("phone").value.trim();
			if (!phone || !/^\d{3}[-.\s]?\d{3}[-.\s]?\d{4}$/.test(phone)) {
				isValid = false;
				document.getElementById("phoneError").style.display = "inline";
			}

			// validate card name
			const cardName = document.getElementById("cardName").value.trim();
			if (!cardName || !/^[A-Za-z\s\-']{2,50}$/.test(cardName)) {
				isValid = false;
				document.getElementById("cardNameError").style.display = "inline";
			}

			// validate card number
			const cardNumber = document.getElementById("card").value.trim();
			if (!cardNumber || !/^\d{4}[-\s]?\d{4}[-\s]?\d{4}[-\s]?\d{4}$/.test(cardNumber)) {
				isValid = false;
				document.getElementById("cardError").style.display = "inline";
			}

			// validate expiration date
			const expDate = document.getElementById("expDate").value.trim();
			if (!expDate || !/^(0[1-9]|1[0-2])\/\d{2}$/.test(expDate)) {
				isValid = false;
				document.getElementById("expDateError").style.display = "inline";
			}

			// validate CVV 
			const cvv = document.getElementById("cvv").value.trim();
			if (!cvv || !/^\d{3,4}$/.test(cvv)) {
				isValid = false;
				document.getElementById("cvvError").style.display = "inline";
			}

			// validate address - could we do this better?
			const address = document.getElementById("address").value.trim();
			if (!address) {
				isValid = false;
				document.getElementById("addressError").style.display = "inline";
			}

			// validate the country
			const country = countrySelect.value;
			if (!country) {
				isValid = false;
				document.getElementById("countryError").style.display = "inline";
			}

			// validate the state or province
			const state = stateSelect.value;
			if (!state) {
				isValid = false;
				document.getElementById("stateError").style.display = "inline";
			}

			// validate zip code
			const postal = document.getElementById("postal").value.trim();
			if (country === "US" && !/^\d{5}(-\d{4})?$/.test(postal)) {
				isValid = false;
				document.getElementById("postalError").style.display = "inline";
			} else if (country === "CA" && !/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/.test(postal)) {
				isValid = false;
				document.getElementById("postalError").style.display = "inline";
			}

			// is this a valid password?
			const password = document.getElementById("password").value.trim();
			if (!password) {
				isValid = false;
				document.getElementById("passwordError").style.display = "inline";
			}

			// confirm password
			const confirmPassword = document.getElementById("confirmPassword").value.trim();
			if (!confirmPassword || password !== confirmPassword) {
				isValid = false;
				document.getElementById("confirmPasswordError").style.display = "inline";
			}

			// show alert with form data if the form is valid from assignment hw4
			if (isValid) {
				let message = `Registration Confirmed\n\n`;
				message += `Salutation: ${salutation?.value || "N/A"}\n`;
				message += `Name: ${firstName} ${lastName}\n`;
				message += `Date of Birth: ${dob}\n`;
				message += `Email: ${email}\n`;
				message += `Phone: ${phone}\n`;
				/* 
				message += `Card Name: ${cardName}\n`;
				message += `Card Number: ${cardNumber}\n`;
				message += `Expiration Date: ${expDate}\n`;
				message += `CVV: ${cvv}\n`;
				*/
				message += `Address: ${address}\n`;
				message += `Country: ${country}\n`;
				message += `State/Province: ${state}\n`;
				message += `Postal Code: ${postal}\n`;
				/* message += `Password: ${password}\n`; */ /* Don't show password */

				alert(message);
			}
		}

		// put the submitForm to form's submit event
		form.addEventListener("submit", submitForm);

		// Change Font
		function changeFont() {
			document.body.style.fontFamily = "Arial, sans-serif";
		}

	</script>

</body>

</html>
